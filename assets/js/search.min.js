var searchHasError=!1;$("#term").on("change keyup",function(a){var b=$("#term").val();9!=a.keyCode&&20!=a.keyCode&&(""===b?($("#icon-term-success").hide(),$("#icon-term-fail").show(),$("#text-term-fail").show()):($("#icon-term-fail").hide(),$("#text-term-fail").hide(),$("#icon-term-success").show()))});var search_submit=$("#search-submit"),search_form=$("#form-search");search_submit.click(function(a){a.preventDefault(),search_submit.html("Working on it...");var b=$("#term"),c=b.val();return""===c?($("#icon-term-success").hide(),b.focus(),$("#icon-term-fail").show(),$("#text-term-fail").show(),$("#search-submit").html("Send"),searchHasError=!0,!1):($("#icon-term-fail").hide(),$("#text-term-fail").hide(),$("#icon-term-success").show(),void(0==hasError&&search_form.submit()))}),function(){function a(a,b){var c=document.getElementById("search-results"),d=a.length;if(a.length){for(var e='<ol class="breadcrumb"><li>Search results ('+d+")</li></ol>",f=0;f<a.length;f++){var g=b[a[f].ref];e+='<div class="panel panel-default panel-custom"><div class="panel-heading"><div class="panel-title"><h2><a href="'+g.url+'">'+g.title+'</a></h2></div></div><div class="panel-body text-justify">',e+="<p>"+g.content.substring(0,300)+"...</p></div></div>"}c.innerHTML=e}else c.innerHTML='<ol class="breadcrumb"><li>No results found</li></ol>'}function b(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]===a)return decodeURIComponent(e[1].replace(/\+/g,"%20"))}}var c=b("term");if(c){document.getElementById("term").setAttribute("value",c);var d=lunr(function(){this.field("id"),this.field("title",{boost:10}),this.field("author"),this.field("categories"),this.field("tags"),this.field("content")});for(var e in window.store){d.add({id:e,title:window.store[e].title,author:window.store[e].author,categories:window.store[e].categories,tags:window.store[e].tags,content:window.store[e].content});var f=d.search(c);a(f,window.store)}}}();